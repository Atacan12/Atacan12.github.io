<?php


$postd = '{"x":"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"}';
//getsigned
$keyurl = 'https://www.rokkr.net/api/box/ping';
$options = array(
'header'=>array(
'user-agent'=>'Rokkr/1.7.2 (android)',
'content-type'=>'application/json',
),
'post'=>$postd,
);
$left = '';
$right = '';
$getkey = json_decode($this->get_contents($left,$right,$keyurl,$options), true);







$postdata = '{
  "language": "tr",
  "region": "TR",
  "id": "",
  "adult": true,
  "search": "",
  "sort": "name",
  "filter": {
    "group": "Romania"
  },
  "cursor": null,
  "rootId": ""
}';


//json
$url = 'https://www.oha.to/oha-tv-index/directory.watched';
$options = array(
'header'=>array(
    'user-agent'=>'Rokkr/1.7.2 (android)',
    'content-type'=>'application/json',
'watched-sig'=>$getkey['response']['signed'],
),
'post'=>$postdata,
);

$left = '';
$right = '';

$getjson = $this->get_contents($left,$right,$url,$options);

$getjs = json_decode($getjson, true);


$postdatam = '{
  "language": "tr",
  "region": "TR",
  "id": "",
  "adult": true,
  "search": "",
  "sort": "name",
  "filter": {
    "group": "Romania"
  },
  "cursor": 300,
  "rootId": ""
}';


//json
$url = 'https://www.oha.to/oha-tv-index/directory.watched';
$options = array(
'header'=>array(
    'user-agent'=>'Rokkr/1.7.2 (android)',
    'content-type'=>'application/json',
'watched-sig'=>$getkey['response']['signed'],
),
'post'=>$postdatam,
);

$left = '';
$right = '';

$getjsona = $this->get_contents($left,$right,$url,$options);

$getjsa = json_decode($getjsona, true);


$postdatan = '{
  "language": "tr",
  "region": "TR",
  "id": "",
  "adult": true,
  "search": "",
  "sort": "name",
  "filter": {
    "group": "Romania"
  },
  "cursor": 600,
  "rootId": ""
}';


//json
$url = 'https://www.oha.to/oha-tv-index/directory.watched';
$options = array(
'header'=>array(
    'user-agent'=>'Rokkr/1.7.2 (android)',
    'content-type'=>'application/json',
'watched-sig'=>$getkey['response']['signed'],
),
'post'=>$postdatan,
);

$left = '';
$right = '';

$getjsonb = $this->get_contents($left,$right,$url,$options);

$getjsb = json_decode($getjsonb, true);



$postdatas = '{
  "language": "tr",
  "region": "TR",
  "id": "",
  "adult": true,
  "search": "",
  "sort": "name",
  "filter": {
    "group": "Romania"
  },
  "cursor": 900,
  "rootId": ""
}';


//json
$url = 'https://www.oha.to/oha-tv-index/directory.watched';
$options = array(
'header'=>array(
    'user-agent'=>'Rokkr/1.7.2 (android)',
    'content-type'=>'application/json',
'watched-sig'=>$getkey['response']['signed'],
),
'post'=>$postdatas,
);

$left = '';
$right = '';

$getjsonc = $this->get_contents($left,$right,$url,$options);

$getjsc = json_decode($getjsonc, true);



?>


<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <meta name="color-scheme" content="dark" />
    <title>Romania Channels by Brawler</title>
    <script type="module" src="https://cdn.jsdelivr.net/npm/@ionic/core/dist/ionic/ionic.esm.js"></script>
    <script nomodule src="https://cdn.jsdelivr.net/npm/@ionic/core/dist/ionic/ionic.js"></script>
    <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/@ionic/core/css/ionic.bundle.css" />
    <style>

@import url('https://fonts.googleapis.com/css2?family=Jost:ital,wght@0,300;0,400;0,500;0,600;0,700;0,800;0,900;1,200;1,300;1,400;1,500&display=swap');
     
    :root {
--ion-text-color:  #fff;
--ion-font-family: "Jost";
 --ion-background-color: #171717; 
    }
*{
    user-select: none!important;
}
 

    ion-title {
        font-size: 24px;
        font-weight:800;
    }
ion-item {
        --background: linear-gradient( 89.7deg,  rgba(0,0,0,1) -10.7%, rgba(53,92,125,1) 88.8% );
        margin-bottom: 1vh;
        border-radius: 5px;
        transition: 1000ms linear,

    }
ion-item:hover {
        --background: linear-gradient( 270deg,  rgba(0,0,0,1) -10.7%, rgba(53,92,125,1) 88.8% );
        margin-bottom: 1vh;
        border-radius: 5px;
    }


    h2{
        font-style:italic;
    }

    h3{
        color: #ccc;
    }
    
ion-searchbar {
      --color: white; /* Arama çubuğu yazı rengini beyaz olarak ayarlar */
    }




    </style>
  </head>
  <body>
  <ion-app>
    <ion-header translucent>
      <ion-toolbar>
        <ion-title>Romania Chanells</ion-title>
       
      </ion-toolbar>
    </ion-header>
<ion-searchbar color="dark" placeholder="Kanal Aramak için buraya yaz..."></ion-searchbar>
    <ion-content fullscreen>
        
      <ion-list id="channel-list">
      
      <?php 
        
        $new = array();

        for($i = 0; count($getjs['items']) > $i; $i++){

if(!empty($getjs['items'][$i])){


$new[$i]['url'] = $getjs['items'][$i]['url'];
$new[$i]['name'] = $getjs['items'][$i]['name'];
$new[$i]['group'] = $getjs['items'][$i]['group'];
$new[$i]['logo'] = $getjs['items'][$i]['logo'];


if(empty($new[$i]['logo'])){
    $new[$i]['logo'] = 'https://apkresult.com/Logos/rokkr-premium-apkresult.jpg';
}
        ?>
      <div class="back">
          <ion-item onclick="location.href='<?=DOMAIN?>/play/?v=<?=base64_encode($new[$i]['url'])?>'">
           
            <ion-label>
              <h2><?=$new[$i]['name']?></h2>
              <h3><?=$new[$i]['group']?></h3>
            </ion-label>
          </ion-item>
</div>
      <?php

}
}

?>
    
      
      <?php 
        
        $new = array();

        for($i = 0; count($getjsa['items']) > $i; $i++){

if(!empty($getjsa['items'][$i])){


$new[$i]['urla'] = $getjsa['items'][$i]['url'];
$new[$i]['namea'] = $getjsa['items'][$i]['name'];
$new[$i]['groupa'] = $getjsa['items'][$i]['group'];

        ?>
      <div class="back">
          <ion-item onclick="location.href='<?=DOMAIN?>/play/?v=<?=base64_encode($new[$i]['urla'])?>'">
           
            <ion-label>
              <h2><?=$new[$i]['namea']?></h2>
              <h3><?=$new[$i]['groupa']?></h3>
            </ion-label>
          </ion-item>
</div>
      <?php

}
}

?>
     
      
      <?php 
        
        $new = array();

        for($i = 0; count($getjsb['items']) > $i; $i++){

if(!empty($getjsb['items'][$i])){


$new[$i]['urlb'] = $getjsb['items'][$i]['url'];
$new[$i]['nameb'] = $getjsb['items'][$i]['name'];
$new[$i]['groupb'] = $getjsb['items'][$i]['group'];

        ?>
      <div class="back">
          <ion-item onclick="location.href='<?=DOMAIN?>/play/?v=<?=base64_encode($new[$i]['urlb'])?>'">

            <ion-label>
              <h2><?=$new[$i]['nameb']?></h2>
              <h3><?=$new[$i]['groupb']?></h3>
            </ion-label>
          </ion-item>
</div>
      <?php

}
}

?>
     
      
      <?php 
        
        $new = array();

        for($i = 0; count($getjsc['items']) > $i; $i++){

if(!empty($getjsc['items'][$i])){


$new[$i]['urlc'] = $getjsc['items'][$i]['url'];
$new[$i]['namec'] = $getjsc['items'][$i]['name'];
$new[$i]['groupc'] = $getjsc['items'][$i]['group'];

        ?>
      <div class="back">
          <ion-item onclick="location.href='<?=DOMAIN?>/play/?v=<?=base64_encode($new[$i]['urlc'])?>'">
           
            <ion-label>
              <h2><?=$new[$i]['namec']?></h2>
              <h3><?=$new[$i]['groupc']?></h3>
            </ion-label>
          </ion-item>
</div>
      <?php

}
}

?>
      </ion-list>
    </ion-content>
  </ion-app>

  <script>
    const searchbar = document.querySelector('ion-searchbar');
    const channelList = document.getElementById('channel-list');

    searchbar.addEventListener('ionInput', handleSearch);

    function handleSearch(event) {
      const searchText = event.target.value.toLowerCase();
      const items = channelList.querySelectorAll('.back');
      
      items.forEach(item => {
        const title = item.querySelector('h2').textContent.toLowerCase();
        if (title.includes(searchText)) {
          item.style.display = 'block';
        } else {
          item.style.display = 'none';
        }
      });
    }
  </script>
</body>
</html>